# 🌙 Tính năng AI Tư vấn Giấc ngủ Thông minh

## Tổng quan

Ứng dụng Quản lý Giấc ngủ đã được nâng cấp với tính năng AI thông minh, sử dụng Google Gemini API để phân tích dữ liệu giấc ngủ và đưa ra lời khuyên cá nhân hóa.

## ✨ Tính năng mới

### 1. Phân tích Giấc ngủ Thông minh
- **Phân tích mẫu giấc ngủ 7 ngày**: Tính toán thời gian ngủ trung bình, độ nhất quán, chất lượng
- **Xác định vấn đề**: Tự động phát hiện các vấn đề về giấc ngủ
- **Đề xuất cải thiện**: Đưa ra lời khuyên cụ thể để cải thiện giấc ngủ

### 2. Tư vấn Cá nhân hóa
- **Kế hoạch ngủ hôm nay**: Tính toán thời gian ngủ cần thiết dựa trên tình trạng hiện tại
- **Giờ đi ngủ tối ưu**: Đề xuất giờ đi ngủ phù hợp với lịch trình của bạn
- **Bù đắp giấc ngủ**: Tính toán thời gian cần thiết để bù đắp giấc ngủ thiếu hụt

### 3. Lịch trình Tối ưu
- **Lịch trình 7 ngày**: Tạo lịch trình ngủ tối ưu cho tuần tới
- **Thói quen lành mạnh**: Khuyến nghị thay đổi thói quen để cải thiện giấc ngủ
- **Môi trường ngủ**: Lời khuyên về môi trường ngủ tối ưu

### 4. Lời khuyên Sức khỏe
- **Dựa trên dữ liệu thực tế**: Phân tích dựa trên mẫu giấc ngủ thực tế của bạn
- **Khoa học và thực tế**: Lời khuyên dựa trên nghiên cứu khoa học về giấc ngủ
- **Cá nhân hóa**: Điều chỉnh theo tình trạng và mục tiêu cá nhân

## 🚀 Cách sử dụng

### Bước 1: Cấu hình AI
1. Nhấn vào nút cài đặt AI (⚙️) trên thanh navigation
2. Bật tính năng AI
3. Nhập Gemini API Key của bạn
4. Nhấn "Lưu cấu hình"

### Bước 2: Sử dụng tính năng AI
1. Chuyển đến tab "Tư vấn AI"
2. Nhấn "Phân tích Giấc ngủ" để bắt đầu
3. Xem kết quả phân tích và lời khuyên
4. Sử dụng "Tư vấn Cá nhân hóa" để có lời khuyên chi tiết
5. Nhấn "Tối ưu Lịch trình" để tạo lịch trình tối ưu

## 🔑 Lấy Gemini API Key

1. Truy cập [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Đăng nhập bằng tài khoản Google
3. Tạo API Key mới
4. Sao chép và dán vào ứng dụng

## 📊 Cách hoạt động

### Phân tích Dữ liệu
- **Thu thập dữ liệu**: Phân tích 7 ngày ghi nhận giấc ngủ gần nhất
- **Tính toán chỉ số**: 
  - Thời gian ngủ trung bình
  - Độ nhất quán giờ đi ngủ
  - Chất lượng giấc ngủ
  - Thiếu hụt giấc ngủ
- **Xác định vấn đề**: So sánh với tiêu chuẩn sức khỏe

### AI Phân tích
- **Prompt thông minh**: Tạo prompt chi tiết cho Gemini AI
- **Phân tích sâu**: AI phân tích mẫu và đưa ra lời khuyên
- **Cá nhân hóa**: Điều chỉnh theo tình trạng cụ thể của bạn

### Khuyến nghị
- **Kế hoạch ngắn hạn**: Lời khuyên cho hôm nay
- **Lịch trình dài hạn**: Kế hoạch cải thiện tuần tới
- **Thói quen**: Hướng dẫn thay đổi thói quen

## 🎯 Lợi ích

### Sức khỏe
- **Cải thiện chất lượng giấc ngủ**: Ngủ sâu hơn, ít thức giấc
- **Tăng năng lượng**: Cảm thấy tỉnh táo hơn vào ban ngày
- **Cải thiện tâm trạng**: Giảm căng thẳng, lo lắng

### Hiệu suất
- **Tập trung tốt hơn**: Tăng khả năng tập trung và ghi nhớ
- **Năng suất cao hơn**: Làm việc hiệu quả hơn
- **Phản ứng nhanh**: Phản ứng nhanh hơn với các tình huống

### Lối sống
- **Thói quen lành mạnh**: Xây dựng thói quen ngủ tốt
- **Nhịp sinh học ổn định**: Điều chỉnh đồng hồ sinh học
- **Sức khỏe tổng thể**: Cải thiện sức khỏe tổng thể

## 🔧 Cài đặt nâng cao

### Mô hình AI
- **Gemini Pro**: Mô hình cơ bản, phù hợp cho hầu hết người dùng
- **Gemini Pro Vision**: Mô hình nâng cao, hỗ trợ phân tích hình ảnh

### Tham số AI
- **Temperature**: Điều chỉnh độ sáng tạo của AI (0.0 - 1.0)
- **Max Tokens**: Giới hạn độ dài phản hồi từ AI
- **Model**: Chọn mô hình AI phù hợp

## 📱 Hỗ trợ thiết bị

- ✅ Desktop (Chrome, Firefox, Safari, Edge)
- ✅ Mobile (iOS Safari, Chrome Mobile)
- ✅ Tablet (iPad, Android Tablet)
- ✅ PWA (Progressive Web App)

## 🛡️ Bảo mật

- **API Key**: Được lưu trữ cục bộ trên thiết bị của bạn
- **Dữ liệu**: Không gửi dữ liệu cá nhân đến Google
- **Quyền riêng tư**: Chỉ sử dụng API để phân tích và tư vấn

## 🆘 Xử lý sự cố

### AI không hoạt động
1. Kiểm tra kết nối internet
2. Xác nhận API Key đúng
3. Kiểm tra giới hạn sử dụng API
4. Thử lại sau vài phút

### Lỗi phân tích
1. Đảm bảo có đủ dữ liệu giấc ngủ (ít nhất 3 ngày)
2. Kiểm tra định dạng dữ liệu
3. Làm mới trang và thử lại

### Hiệu suất chậm
1. Kiểm tra tốc độ internet
2. Đóng các tab không cần thiết
3. Làm mới trình duyệt

## 📞 Hỗ trợ

Nếu gặp vấn đề hoặc có câu hỏi:
1. Kiểm tra console của trình duyệt để xem lỗi
2. Đảm bảo tất cả file JavaScript được load đúng
3. Kiểm tra phiên bản trình duyệt (khuyến nghị Chrome 90+)

## 🔄 Cập nhật

Tính năng AI sẽ được cập nhật thường xuyên với:
- Cải thiện thuật toán phân tích
- Thêm mô hình AI mới
- Tối ưu hóa hiệu suất
- Tính năng mới

---

**Lưu ý**: Tính năng AI chỉ hoạt động khi có kết nối internet và API Key hợp lệ. Dữ liệu giấc ngủ của bạn được lưu trữ cục bộ và không được chia sẻ với bên thứ ba.
